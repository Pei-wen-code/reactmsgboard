(this.webpackJsonpreactmsgboard=this.webpackJsonpreactmsgboard||[]).push([[0],{17:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var c,o,i,r,a,s,b,d,j,l,u,h,p,O=e(0),g=e(9),m=e.n(g),x=(e(17),e(4)),f=e(3),v=e(2),w=e(1),S=v.b.div(c||(c=Object(f.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]))),y=v.b.h1(o||(o=Object(f.a)(["\n  color: #333;\n"]))),k=v.b.form(i||(i=Object(f.a)(["\n  margin-top: 16px;\n"]))),F=v.b.textarea(r||(r=Object(f.a)(["\n  display: block;\n  width: 100%;\n"]))),_=v.b.button(a||(a=Object(f.a)(["\n  margin-top: 8px;\n"]))),C=v.b.div(s||(s=Object(f.a)(["\n  margin-top: 16px;\n"]))),L=v.b.div(b||(b=Object(f.a)(["\n  border: 1px solid black;\n  padding: 8px 16px;\n  border-radius: 8px;\n\n  & + & {\n    margin-top: 8px;\n  }\n"]))),z=v.b.div(d||(d=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 4px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3)\n"]))),D=v.b.div(j||(j=Object(f.a)(["\n  color: rgba(23, 78, 55, 0.3);\n  font-size: 14px;\n"]))),J=v.b.div(l||(l=Object(f.a)([""]))),P=v.b.div(u||(u=Object(f.a)(["\n  margin-top: 16px;\n  font-size: 16px;\n  word-break: break-word;\n"]))),T=v.b.div(h||(h=Object(f.a)(["\n  margin-top: 16px;\n  color: red;\n"]))),A=v.b.div(p||(p=Object(f.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function B(n){var t=n.author,e=n.time,c=n.children;return Object(w.jsxs)(L,{children:[Object(w.jsxs)(z,{children:[Object(w.jsx)(D,{children:t}),Object(w.jsx)(J,{children:e})]}),Object(w.jsx)(P,{children:c})]})}var E=function(){var n=Object(O.useState)(null),t=Object(x.a)(n,2),e=t[0],c=t[1],o=Object(O.useState)(null),i=Object(x.a)(o,2),r=i[0],a=i[1],s=Object(O.useState)(),b=Object(x.a)(s,2),d=b[0],j=b[1],l=Object(O.useState)(),u=Object(x.a)(l,2),h=u[0],p=u[1],g=Object(O.useState)(!1),m=Object(x.a)(g,2),f=m[0],v=m[1],L=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){c(n)})).catch((function(n){a(n.message)}))};return Object(O.useEffect)((function(){L()}),[]),Object(w.jsxs)(S,{children:[f&&Object(w.jsx)(A,{children:"Loading..."}),Object(w.jsx)(y,{children:"\u7559\u8a00\u677f"}),Object(w.jsxs)(k,{onSubmit:function(n){n.preventDefault(),f||(v(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"huli",body:d})}).then((function(n){return n.json()})).then((function(n){v(!1),0!==n.ok?(j(""),L()):p(n.message)})).catch((function(n){v(!1),p(n.message)})))},children:[Object(w.jsx)(F,{value:d,onChange:function(n){j(n.target.value),console.log(d)},onFocus:function(){p(null)},rows:10}),Object(w.jsx)(_,{children:"\u9001\u51fa\u7559\u8a00"}),h&&Object(w.jsxs)(T,{children:["Something went wrong. ",h.toString()]})]}),r&&Object(w.jsxs)(T,{children:["Something went wrong. ",r.toString()]}),e&&0===e.length&&Object(w.jsx)("div",{children:"No message"}),Object(w.jsx)(C,{children:e&&e.map((function(n){return Object(w.jsx)(B,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})},I=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,22)).then((function(t){var e=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;e(n),c(n),o(n),i(n),r(n)}))};m.a.render(Object(w.jsx)(v.a,{theme:{colors:{red_300:"#220000",red_400:"#440000",red_500:"#660000"}},children:Object(w.jsx)(E,{})}),document.getElementById("root")),I()}},[[21,1,2]]]);
//# sourceMappingURL=main.93df7224.chunk.js.map